サーバールームへの入退室を記録した、次ページのような入退室管理テーブルがあります。
このテーブルについて、以下の設問で求められているデータを取得する SQL 文を作成してください。
なお、同姓同名の社員はいないものとします。

| 列名   | データ型        | 備考                                                        |
| ---- | ----------- | --------------------------------------------------------- |
| 日付   | DATE        | 入室した日付                                                    |
| 退室   | CHAR(1)     | NULL: 入室中 / 1: 退室済み                                       |
| 社員名  | VARCHAR(20) | 入室した社員名                                                   |
| 事由区分 | CHAR(1)     | 入室事由を表すコード<br>1: メンテナンス<br>2: リリース作業<br>3: 障害対応<br>9: その他 |

1. 現在入室中の社員数を取得する。
2. 社員ごとの入室回数を、回数の多い順に取得する。
3. 事由区分ごとの入室回数を取得する（事由区分はわかりやすく表示する）。
4. 入室回数が10回を超過する社員について、社員名と入室回数を取得する。
5. これまでに障害対応が発生した日付と、それに対応した社員数を取得する。

1.
SELECT COUNT(*) AS 社員数
FROM 入退室管理

解答
SELECT COUNT(*) AS 社員数
FROM 入退室管理
WHERE 退室 IS NULL　←　

退室カラムには2パターンの値が入る：
- NULL → 入室中
- '1' → 退室済み
だから、NULLの人(入室中)の人の数を数えなきゃいけない！


2.
SELECT 社員名, COUNT(*) AS 入室回数
FROM 入退室管理
GROUP BY 社員名
ORDER BY 2 DESC;


3.
SELECT CASE 事由区分 
  WHEN '1' THEN 'メンテナンス'
  WHEN '2' THEN 'リリース作業'
  WHEN '3' THEN '障害対応'
  WHEN '9' THEN 'その他'
END AS 事由,
COUNT(*) AS 入室回数
FROM 入退室管理
GROUP BY 事由区分


4.
SELECT 社員名, COUNT(*) AS 入室回数
FROM 入退室管理
GROUP BY 社員名
HAVING COUNT(*) > 10;


5.
SELECT 日付, COUNT(社員名) AS 対応社員数
FROM 入退室管理
WHERE 事由区分 = '3'
GROUP BY 日付;