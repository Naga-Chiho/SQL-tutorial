ある会社では、依頼された品物に刺繍で文字を入れるサービスを行っています。
加工にかかる金額は、1文字ごとに設定された金額を文字数で乗算したもので、1つの注文の金額は刺繍する書体の種類に応じて決まります。また、10文字を超える場合は、「単価500円の特別加算料」が計算されます。
次に、受注内容を登録した受注テーブルと、書体ごとの単価を示します。

受注テーブル
| 受注日      | 受注ID | 文字           | 文字数  | 書体コード |
| ---------- | ---- | ---------------- | ---- | ----- |
| 2023-12-05 | 101  | Satou            | NULL | NULL  |
| 2023-12-05 | 102  | 鈴木一郎          | NULL | 3     |
| 2023-12-05 | 113  | 横浜 BASEBALL CLUB | NULL | 1     |
| 2023-12-08 | 140  | N.R.             | NULL | NULL  |

書体と単価
書体コード1：ブロック体　単価100円
書体コード2：筆記体　単価150円
書体コード3：草書体　単価200円
※受注書体が指定されなかった場合は、書体コードにはNULLが指定されるが、ブロック体による加工料金が用いられる。

これらをもとに、以下の設問で指示されたSQL文を作成してください。
なお、受注日列はDATE型、受注ID、文字、書体コード列はVARCHAR型、文字数列はINTEGER型で定義されています。

1.
依頼された文字は、何文字の刺繍が必要かを求める。
「文字」列のデータをもとに、1つのSQL文で「文字数」列の全行を更新する。
ただし、「文字」列には半角の空白が入る可能性があるが、空白は文字数に含めない。
なお、使用するDBMSでは、文字列長を得る関数はバイト数ではなく文字数を返すものとする。

空白を数えたくない…
→空白をなくせばいいじゃない！置き換えよう

UPDATE 受注
SET 文字数 = LENGTH(REPLACE(文字,' ',''))


2.
受注内容を一覧表示する。
一覧には、受注日、受注ID、文字数、書体名、単価、特別加工料を載せ、受注日および受注ID順に表示しなさい。
ただし、特別加工料がかからないものについては、特別加工料をゼロとする。

SELECT 受注日,受注ID,文字数,
CASE COALSCE(書体コード,'1')
    WHEN '1' THEN 'ブロック体'
    WHEN '2' THEN '筆記体'
    WHEN '3' THEN '草書体' END AS 書体名,
CASE COALSCE(書体コード,'1')
    WHEN '1' THEN 100
    WHEN '2' THEN 150
    WHEN '3' THEN 200 END AS 単価,
CASE WHEN 文字列 > 10 THEN 500
    ELSE 0 END AS 特別加工料
FROM 受注 ORDER BY 受注日,受注ID

3.
受注ID113の注文に対して、文字の一部を変更したいという依頼があった。
登録されている文字を次の依頼内容に合わせて更新する。
依頼内容：半角スペースを「★」に変更

UPDATE 受注
SET 文字 = REPLACE(文字,' ','★') 
WHERE 受注ID = '113'
